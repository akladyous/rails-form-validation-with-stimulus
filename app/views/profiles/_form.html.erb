<div class="container">
	<%= form_with(model: profile, data: { controller: 'validate', validate_target: 'form' } ) do |form| %>
		<% if profile.errors.any? %>
			<div style="color: red">
				<h2><%= pluralize(profile.errors.count, "error") %> prohibited this profile from being saved:</h2>
				<ul>
					<% profile.errors.each do |error| %>
						<li><%= error.full_message %></li>
					<% end %>
				</ul>
			</div>
		<% end %>
		<div class="form-group mb-2" >
			<%= form.label :first_name, class: 'form-label' %>
			<%= form.text_field :first_name,
                { class: 'form-control', data: { validate_target: :input, action: "change->validate#handleChange", constrain: @constrains[:first_name] } } %>
		</div>
		<div class="form-group mb-2" >
			<%= form.label :last_name, class: 'form-label' %>
			<%= form.text_field :last_name,
                { class: 'form-control', data: { validate_target: :input, action: "change->validate#handleChange", constrain: @constrains[:last_name] } } %>
		</div>
		<div class="form-group mb-2" >
			<%= form.label :age, class: 'form-label' %>
			<%= form.number_field :age,
                { class: 'form-control', data: { validate_target: :input, action: "change->validate#handleChange", constrain: @constrains[:age] } } %>
		</div>
		<div class="form-group">
			<%= form.submit %>
		</div>
	<% end %>
</div>
